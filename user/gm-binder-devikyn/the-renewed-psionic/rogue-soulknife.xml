<?xml version="1.0" encoding="utf-8" ?>
<elements>
    <info>
        <name>Soulknife Roguish Archetype</name>
        <author url="https://www.reddit.com/u/devikyn">u/devikyn</author>
        <update version="0.0.2">
            <file name="rogue-soulknife.xml" url="https://raw.githubusercontent.com/chris-velox/aurora-elements/master/user/gm-binder-devikyn/the-renewed-psionic/rogue-soulknife.xml" />
        </update>
    </info>
    
    <element name="Soulknife" type="Archetype" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_ROGUE_SOULKNIFE">
        <supports>Roguish Archetype</supports>
        <description>
            <p>Armed with a mind as sharp as it is deadly, the soulknife is a violent force of psionic lethality. These psionic rogues craft beautiful blades from their mental energy, preferring to hone their natural abilities into a sharp, killing edge, rather than study the inner workings of the universe. A soulknife takes great pride in the design and perfection of their psionic weaponry, often crafting a personal, signature aesthetic into any weapons they create.</p>
            <div element="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_MIND_BLADE" />
            <div element="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_PSIONICS" />
            <div element="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_SPEED_OF_THOUGHT" />
            <div element="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_BLADEWIND" />
            <div element="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_KNIFE_TO_THE_SOULD" />
        </description>
        <sheet display="false">
            <description></description>
        </sheet>
        <rules>
            <grant type="Archetype Feature" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_MIND_BLADE" level="3" />
            <grant type="Archetype Feature" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_PSIONICS" level="3" />
            <grant type="Archetype Feature" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_SPEED_OF_THOUGHT" level="9" />
            <grant type="Archetype Feature" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_BLADEWIND" level="13" />
            <grant type="Archetype Feature" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_KNIFE_TO_THE_SOULD" level="17" />
        </rules>
    </element>
    <element name="Mind Blade" type="Archetype Feature" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_MIND_BLADE">
        <description>
            <p>At 3rd level, you can create a semisolid blade of psychic energy, distilled from your mind.</p>
            <p class="indent">As a bonus action, you you can create a weapon that flows with mental energy, a mind blade, in one of your free hands. This weapon takes the form of a dagger, a longsword, a rapier or a shortsword (your choice), using the same statistics as the chosen weapon except that it has the finesse and thrown (30/120) properties. You can never be disarmed of your mind blade unless you choose to be, and it functions even in a null psionics field. If you let go of your mind blade, it disappears at the end of the turn.</p>
            <p class="indent">When you Sneak Attack a creature with your mind blade, you can choose to deal psychic damage with the Sneak Attack.</p>
            <p class="indent">Your mind blade gains a +1 bonus to its attack and damage rolls at 9th level in this class, and this bonus becomes a +2 at 17th level.</p>
        </description>
        <sheet action="Bonus Action">
            <description>You you can create a mind blade in one of your free hands. This weapon takes the form of a dagger, a longsword, a rapier or a shortsword (your choice), using the same statistics as the chosen weapon except that it has the finesse and thrown (30/120) properties. You can never be disarmed of your mind blade unless you choose to be, and it functions even in a null psionics field. If you let go of your mind blade, it disappears at the end of the turn. When you Sneak Attack a creature with your mind blade, you can choose to deal psychic damage with the Sneak Attack.</description>
            <description level="9">You you can create a mind blade in one of your free hands. This weapon takes the form of a dagger, a longsword, a rapier or a shortsword (your choice), using the same statistics as the chosen weapon except that it has the finesse and thrown (30/120) properties. You can never be disarmed of your mind blade unless you choose to be, and it functions even in a null psionics field. If you let go of your mind blade, it disappears at the end of the turn. When you Sneak Attack a creature with your mind blade, you can choose to deal psychic damage with the Sneak Attack. Your mind blade gains a +1 bonus to its attack and damage rolls.</description>
            <description level="17">You you can create a mind blade in one of your free hands. This weapon takes the form of a dagger, a longsword, a rapier or a shortsword (your choice), using the same statistics as the chosen weapon except that it has the finesse and thrown (30/120) properties. You can never be disarmed of your mind blade unless you choose to be, and it functions even in a null psionics field. If you let go of your mind blade, it disappears at the end of the turn. When you Sneak Attack a creature with your mind blade, you can choose to deal psychic damage with the Sneak Attack. Your mind blade gains a +2 bonus to its attack and damage rolls.</description>
        </sheet>
    </element>
    <element name="Psionics" type="Archetype Feature" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_PSIONICS">
        <description>
            <p>Also at 3rd level, your psionic power, honed by your focus on perfecting your psionic weaponry, allows you to learn certain psionic manifestations.</p>
            <h5>PSIONIC TALENTS</h5>
            <p>You learn two talents of your choice from the psion or nomad manifestation list. You learn an additional psion talent of your choice at 10th level.</p>
            <h5>LEARNING MANIFESTATIONS</h5>
            <p>You know two psion manifestations of your choice, and one nomad manifestation of your choice. The Soulknife Psionics table shows when you learn more manifestations of 1st level or higher. Each manifestation must be chosen from the psion manifestation list, and must be of a level no greater than that shown in the Manifestation Level Limit column for your rogue level.</p>
            <p class="indent">At 8th, 14th, and 20th levels in this class, the manifestations you choose can come from the nomad manifestation list.</p>
            <p class="indent">Whenever you gain a level in this class, you can replace one of the manifestations you know with another manifestation of your choice. The new manifestation must be of a level no greater than that shown in the Manifestation Level Limit column for your rogue level, and it must be a psion manifestation, unless you’re replacing the nomad manifestation you gained at 3rd, 8th, 14th, or 20th level from any manifestation list.</p>
            <h5>PSIONIC POWER</h5>
            <p>The Soulknife Psionics table shows how much psionic power you have to invoke your manifestations of 1st level and higher. To invoke one of these manifestations, you must expend psionic power equal to the manifestation’s level when you invoked it. You regain all expended psionic power when you finish a long rest.</p>
            <p class="indent">For example, if you are a level 8 rogue and you know the 1st-level manifestation psidarts, you can spend 1 psionic power to invoke psidarts at 1st level or 2 psionic power to invoke psidarts at 2nd level. There is a limit to the amount of psionic power you can sustain at a time; you can’t invoke a manifestation if its psionic power cost is greater than your Psionic Power Limit.</p>
            <h5>MENTAL FATIGUE</h5>
            <p>Each time you use a psionic manifestation, you incur some amount of mental fatigue. Mental fatigue causes additional stress when repeatedly invoking similar psionic manifestations.</p>
            <p class="indent">Whenever you invoke a psionic manifestation, you gain one level of mental fatigue for the level at which you invoked the manifestation. Each time you gain mental fatigue, the psionic power cost to activate manifestations of that level increases by one. For example, the first time you invoke the ethereal weapon manifestation after finishing a long rest, it costs 1 point of psionic power, and your mental fatigue level for 1st level manifestations increases to 1. Subsequently, if you invoke psidarts or any other 1st level manifestation, its psionic power cost is 2, and your mental fatigue level increases to 2.</p>
            <p class="indent">Once you have accumulated 4 levels of mental fatigue for a given manifestation level, your mind adapts to the task, and you no longer gain mental fatigue for that manifestation level until your fatigue is reduced below 4. Your mental fatigue for all manifestation levels returns to 0 when you finish a long rest.</p>
            <h5>Psionic Ability</h5>
            <p>Intelligence is your ability for your psionic manifestations, since they are created out of psionic energy and shaped by your mind. You use your Intelligence whenever a talent or manifestation refers to your psionic ability. In addition, you use your Intelligence modifier when setting the saving throw DC for a psionic talent or manifestion you use and when making an attack roll with one.</p>
            <p class="indent">Psionic save DC = 8 + your proficiency bonus + your Intelligence modifier</p>
            <p class="indent">Psionic attack modifier = your proficiency bonus + your Intelligence modifier</p>
        </description>
        <setters>
            <set name="spellcastingClass">Soulknife</set>
            <set name="spellcastingAbility">Intelligence</set>
            <set name="spellcaster">true</set>
        </setters>
        <spellcasting name="Soulknife" ability="Intelligence" prepare="false">
            <list known="true">Soulknife</list>
        </spellcasting>
        <sheet usage="{{soulknife:psionic-power}}/Long Rest">
            <description>Psionic Power Limit: {{soulknife:psionic-power-limit}}</description>
        </sheet>
        <rules>
            <select type="Spell" name="Soulknife Talent (Level 3)" number="2" supports="(Psion||Nomad),0" level="3" />
            <select type="Spell" name="Soulknife Talent (Level 10)" number="1" supports="(Psion||Nomad),0" level="10" />

            <stat name="soulknife:spellcasting:slots:1" value="0" level="3" />
            <stat name="soulknife:spellcasting:slots:2" value="0" level="7" />
            <stat name="soulknife:spellcasting:slots:3" value="0" level="13" />
            <stat name="soulknife:spellcasting:slots:4" value="0" level="19" />

            <stat name="soulknife:psionic-power" value="3" level="3" />
            <stat name="soulknife:psionic-power" value="3" level="4" />
            <stat name="soulknife:psionic-power" value="9" level="7" />
            <stat name="soulknife:psionic-power" value="4" level="10" />
            <stat name="soulknife:psionic-power" value="7" level="13" />
            <stat name="soulknife:psionic-power" value="5" level="16" />
            <stat name="soulknife:psionic-power" value="4" level="19" />

            <stat name="soulknife:psionic-power-limit" value="2" level="3" />
            <stat name="soulknife:psionic-power-limit" value="1" level="4" />
            <stat name="soulknife:psionic-power-limit" value="1" level="10" />
            <stat name="soulknife:psionic-power-limit" value="1" level="16" />
            
            <select type="Spell" name="Soulknife Manifestation (Level 3)" number="2" supports="$(spellcasting:slots),Psion" level="3" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 3)" number="1" supports="$(spellcasting:slots),Nomad" level="3" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 4)" number="1" supports="$(spellcasting:slots),Psion" level="4" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 7)" number="1" supports="$(spellcasting:slots),Psion" level="7" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 8)" number="1" supports="$(spellcasting:slots),Nomad" level="8" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 10)" number="1" supports="$(spellcasting:slots),Psion" level="10" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 11)" number="1" supports="$(spellcasting:slots),Psion" level="11" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 13)" number="1" supports="$(spellcasting:slots),Psion" level="13" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 14)" number="1" supports="$(spellcasting:slots),Nomad" level="14" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 16)" number="1" supports="$(spellcasting:slots),Psion" level="16" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 19)" number="1" supports="$(spellcasting:slots),Psion" level="19" spellcasting="Soulknife" />
            <select type="Spell" name="Soulknife Manifestation (Level 20)" number="1" supports="$(spellcasting:slots),Nomad" level="20" spellcasting="Soulknife" />
        </rules>
    </element>
    <element name="Speed of Thought" type="Archetype Feature" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_SPEED_OF_THOUGHT">
        <description>
            <p>At 9th level, your sharp focus hastens your body’s responses and heightens your mental acuity. Your speed increases by 10 feet, and you have advantage on ability checks to recall information you’ve learned.</p>
        </description>
        <sheet>
            <description>You have advantage on ability checks to recall information you’ve learned.</description>
        </sheet>
        <rules>
            <stat name="speed" value="10" />
        </rules>
    </element>
    <element name="Bladewind" type="Archetype Feature" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_BLADEWIND">
        <description>
            <p>Starting at 13th level, you can fragment your mind blade into multiple smaller weapons, each striking at a creature near you.</p>
            <p class="indent">As an action while you’re wielding your mind blade, you can split the blade into multiple weapons, using them to make a melee psionic attack against each creature within 5 feet of you. On a hit, a creature takes 1d6 psychic damage, and you can add an extra number of d6s to the damage; each d6 you add in this way subtracts from your total Sneak Attack damage, and you can distribute these d6s among each of the creatures you hit until you’ve spent the total number of d6s you have for your Sneak Attack.</p>
        </description>
        <sheet action="Action">
            <description>While you’re wielding your mind blade, you can split the blade into multiple weapons, using them to make a melee psionic attack against each creature within 5 feet of you. On a hit, a creature takes 1d6 psychic damage, and you can add an extra number of d6s to the damage; each d6 you add in this way subtracts from your total Sneak Attack damage, and you can distribute these d6s among each of the creatures you hit until you’ve spent the total number of d6s you have for your Sneak Attack.</description>
        </sheet>
    </element>
    <element name="Knife to the Soul" type="Archetype Feature" source="The Renewed Psionic" id="ID_GM_BINDER_TRP_ARCHETYPE_FEATURE_SOULKIFE_KNIFE_TO_THE_SOULD">
        <description>
            <p>Starting at 17th level, when you Sneak Attack a creature with your mind blade, you can choose to forego any number of d6s from your Sneak Attack’s damage in order to deal Intelligence, Wisdom, or Charisma damage to the creature (your choice). The target must succeed on a Constitution saving throw or have the chosen ability score reduced by 1 for each d6 you forfeited, which lasts until the creature finishes a long rest.</p>
            <p class="indent">This feature can’t reduce a creature’s ability scores by more than the total number of d6s you have for your Sneak Attack.</p>
        </description>
        <sheet>
            <description>When you Sneak Attack a creature with your mind blade, you can choose to forego any number of d6s from your Sneak Attack’s damage in order to deal Intelligence, Wisdom, or Charisma damage to the creature (your choice). The target must succeed on a Constitution saving throw (save DC {{spellcasting:dc}}) or have the chosen ability score reduced by 1 for each d6 you forfeited, which lasts until the creature finishes a long rest. This feature can’t reduce a creature’s ability scores by more than the total number of d6s you have for your Sneak Attack.</description>
        </sheet>
    </element>
</elements>