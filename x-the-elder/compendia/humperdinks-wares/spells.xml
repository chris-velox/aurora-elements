<?xml version="1.0" encoding="utf-8" ?>
<elements>
    <info>
        <name>Humpswares Spells</name>
        <update version="0.0.2">
            <file name="spells.xml" url="https://raw.githubusercontent.com/chris-velox/aurora-elements/master/x-the-elder/compendia/humperdinks-wares/spells.xml" />
        </update>
    </info>

    <element name="Bone Cage" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_BONE_CAGE">
        <supports>Artificer, Cleric, Paladin, Warlock, Wizard</supports>
        <description>
            <p>You draw the bones from all corpses within range, forming a carapace of ribcages and femurs. You gain temporary hit points for each Small or larger corpse wholly or partly within range, according to its size:</p>
            <table>
                <thead>
                    <tr><td>Corpse Size</td><td>Temporary Hit Points</td></tr>
                </thead>
                <tr><td>Small</td><td>1d6 + 1</td></tr>
                <tr><td>Medium</td><td>1d8 + 2</td></tr>
                <tr><td>Large</td><td>1d10 + 5</td></tr>
                <tr><td>Huge</td><td>1d12 + 12</td></tr>
                <tr><td>Gargantuan</td><td>1d20 + 25</td></tr>
            </table>
            <p class="indent">As an action on a subsequent turn you can cause your armour of bones to erupt, expending all remaining temporary hit points. All creatures within range must make a Dexterity saving throw, taking piercing damage equal to your expended temporary hit points on a failure, or half as much damage on a success. However the temporary hit points are lost, the bones shatter and cannot be used in this way again.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 6th level or higher, the range of this spell increases by 10 feet for each slot level above 5th.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">5</set>
            <set name="school">spell</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">Self (20-f00t radius)</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">the bones of at least one non-animated corpse, which the spell consumes</set>
            <set name="duration">8 hours</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>       
    <element name="Firther’s Shadow" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_FIRTHERS_SHADOW">
        <supports>Sorcerer, Warlock, Wizard</supports>
        <description>
            <p>You warp and distort the memories of a creature within range that you can see, bringing forth hideous, disturbing, mental images. The creature must make an Intelligence saving throw. On a failed save, the creature takes 4d10 psychic damage, becomes stunned until the start of your next turn, and you learn something about the creature (roll a d6 and consult the following chart):</p>
            <table>
                <thead>
                    <tr><td>d6</td><td>Trait Learnt</td></tr>
                </thead>
                <tr><td>1</td><td>Its name</td></tr>
                <tr><td>2</td><td>Something it fears</td></tr>
                <tr><td>3</td><td>Something it desires</td></tr>
                <tr><td>4</td><td>Its condition immunities</td></tr>
                <tr><td>5</td><td>Its damage resistances, immunities, and vulnerabilities</td></tr>
                <tr><td>6</td><td>Its saving throw proficiencies</td></tr>
            </table>
            <p>On a successful save the creature takes half as much damage, is not stunned, and you learn nothing. A creature with an Intelligence score of 6 or lower automatically succeeds on the saving throw.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 4th level or higher, the initial damage increases by 1d10.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">Enchantment</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">60 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent">component</set>
            <set name="duration">Instantaneous</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>
    <element name="Mind Fog" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_MIND_FOG">
        <supports>Bard, Druid, Warlock</supports>
        <description>
            <p>You create a 20-foot-radius sphere of synapseoverloading, neurotoxic, blue-grey fog, centered on a point within range. The fog spreads around corners, lasting for the duration or until it is dispersed by a strong wind. Its area is lightly obscured.</p>
            <p class="indent">Each creature that enters the spell’s area for the first time on a turn or starts its turn there must make a Constitution saving throw. On a a failure, the creature takes 2d8 poison damage, 3d8 psychic damage, and can not concentrate on spells until the start of its next turn. On a success, the creature takes half as much damage, and normal rules apply to it maintaining concentration. Creatures are affected even if they hold their breath or don’t need to breathe.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 6th level or higher, the psychic damage increases by 1d8 for each spell slot level above 5th.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">5</set>
            <set name="school">spell</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">120 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a bottle of ethanol</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
    <element name="Blinding Radiance" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_BLINDING_RADIANCE">
        <supports>Artificer, Cleric, Paladin, Sorcerer, Warlock</supports>
        <description>
            <p>Bright light erupts from your form, moving with you and dazzling those around you. You emit bright light in a 50-foot radius, and dim light for an additional 50 feet.</p>
            <p class="indent">Each creature that moves within 10 feet of you for the first time on its turn or that starts its turn within 10 feet of you, must make a Constitution saving throw. On a failure, the creature takes 4d10 radiant damage and is blinded until the start of its next turn. On a success, the creature takes half as much damage and is not blinded.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 5th level or higher, the damage increases by 1d10 for each spell slot level above 4th.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">evocation</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">Self</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a strip of magnesium</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
    <element name="Cannotrip" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_CANNOTRIP">
        <supports>Bard, Sorcerer, Warlock, Wizard</supports>
        <description>
            <p>Choose a creature within range that you can see. Each time it tries to cast a spell of equal or lower level than this spell, it must succeed on a spellcasting ability check against your spellcasting save DC or waste its spellcasting action.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> The maximum level of spell inhibited by this spell is equal to the level of spell slot expended.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">1</set>
            <set name="school">spell</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">60 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent">component</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
    <element name="Cloudstride" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_CLOUDSTRIDE">
        <supports>Druid, Ranger, Sorcerer, Wizard</supports>
        <description>
            <p>This spell grants up to ten willing creatures you can see within range the ability to walk on heavily obscuring cloud, fog, or mist as if it were solid ground. An affected creature may suspend this effect temporarily, should it, for example, want to walk through the mist.</p>
            <p class="indent">In addition, a creature affected by this spell has its jump distance tripled when on cloud, fog, or mist, but leaves an obvious contrail in its wake. Finally, it has its rate of descent when falling slowed to 60 feet per round, takes no falling damage whilst affected by this spell, and can land on its feet.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">transmutation</set>
            <set name="isRitual">true</set>
            <set name="time">1 minute</set>
            <set name="range">30 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a mithril feather worth 500gp which the spell consumes</set>
            <set name="duration">24 hours</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>
    <element name="Endure" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_ENDURE">
        <supports>Artificer, Cleric, Druid, Paladin, Ranger, Warlock</supports>
        <description>
            <p>Choose a willing creature you can see within range; it ceases to heed the pained calls of its body, needing neither food nor water to exist. An affected creature ignores the effects of exhaustion, the poisoned condition, and cannot be incapacitated, stunned, paralysed, or fall unconscious. Each time an affected creatures takes damage that would reduce its hit points below 0, it makes a death saving throw. If the creature fails 3 death saving throws, it dies.</p>
            <p class="indent">When the spell ends, the creature gains a level of exhaustion for each death saving throw it failed. If the creature is resurrected after dying from these failed death saving throws, it does not regain consciousness for a duration equal to the time for which endure affected it. When it wakes, it gains 3 levels of exhaustion.</p>
            <p class="indent">If the creature is still alive when the spell ends, it falls unconscious for a duration equal to the time for which endure affected it. Whilst unconscious in this way, the creature can not be awakened by any means short of a wish spell.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> As the spell slot level increases, so too does the spell’s duration. Up to: 10 minutes at 6th level, 1 hour at 7th level, 1 day at 8th level, and 1 week at 9th level.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">5</set>
            <set name="school">necromancy</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">60 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a gem-encrusted cockroach worth 250gp, which the spell consumes</set>
            <set name="duration">1 minute</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>
    <element name="Interrolight" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_INTERROLIGHT">
        <supports>Bard, Cleric, Paladin, Sorcerer, Warlock, Wizard</supports>
        <description>
            <p>For the duration, a cone of bright light shines in a 15-foot cone from a point within range. All creatures within the area have disadvantage on Charisma (Deception) checks and Wisdom (Perception) that rely on sight. Any creature standing behind the point of origin of the light has advantage on Charisma (Intimidation) checks made against any targets within the area.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">1</set>
            <set name="school">conjuration</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">30 feet (15-foot cone)</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a candle</set>
            <set name="duration">Cocentration, up to 10 minutes</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>
    <element name="Mireball" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_MIREBALL">
        <supports>Bard, Druid, Sorcerer, Wizard</supports>
        <description>
            <p>A blob of goopy mud splunks from your pointed finger to a point your choose within range and then splooges with a wet burp into an explosion of sludge. Each creature in a 15-foot-radius sphere centred on that point must make a Strength saving throw. On a failed save a target takes 3d10 bludgeoning damage and is knocked prone. On a successful one, it takes half as much damage and is not knocked prone.</p>
            <p class="indent">In addition, all surfaces within the area become covered in unpredictably slick and sticky patches of mud for the duration. Any creature that moves through the muddy the area must succeed on a Dexterity saving throw or fall prone. A creature moving through the area at half speed doesn’t need to make the saving throw. A creature that is prone in the spell’s area must succeed on a Strength saving throw to stand up, wasting the expended movement on a failure.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 4th level or higher, the damage increases by 1d10 for each slot level above 3rd.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">spell</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">150 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a tiny ball of bat guano and mud</set>
            <set name="duration">1 minute</set>
            <set name="isConcentration">false</set>
        </setters>
    </element>
    <element name="Tentacle Lash" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_TENTACLE_LASH">
        <supports>Artificer, Druid, Ranger, Warlock, Wizard</supports>
        <description>
            <p>Your arm elongates, into a long, wet, suckered tentacle. As part of the spellcasting action and as an action on each of your turns you can perform a melee spell attack against a creature within 30 feet. On a hit you deal 4d8 bludgeoning damage and the target must make a Strength saving throw if it is Huge or smaller. On a failure, you may choose one of the following effects:</p>
            <ul>
                <li>The target is knocked prone.</li>
                <li>You disarm the target; you take one item or weapon the target is carrying or wielding (and that is not fastened, e.g. armour) and return it to your person.</li>
            </ul>
            <p class="indent">The tentacle also serves as a useful appendage that can be used like a grappling hook or rope at the DM’s discretion.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 5th level or higher, the damage increases by 1d8 for each spell slot level above 4th.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">spell</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">Self</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a miniature plunger</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
    <element name="Totem Arrow" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_TOTEM_ARROW">
        <supports>Druid, Ranger</supports>
        <description>
            <p>You touch a quiver containing arrows or bolts, imbuing the ammunition with the spirit of a beast, plant, or fungus. For the duration, any creature hit (or in the case of ‘Hawk’, targeted) by an arrow is subject to the spirit’s associated effect (see below), in addition to the attack’s normal effects. As a bonus action whilst the spell is active, the caster may change which spirit imbues the quiver.</p>
            <p class="indent"><strong><em>Cat.</em></strong> The target takes an additional 1d6 slashing damage. If you have advantage on the attack the additional damage is increased to 2d6.</p>
            <p class="indent"><strong><em>Elk.</em></strong> The target takes an additional 1d6 bludgeoning damage and must succeed on a Strength saving throw or be shoved*.</p>
            <p class="indent"><strong><em>Hawk.</em></strong> Ranged weapon attacks ignore half and three-quarters cover.</p>
            <p class="indent"><strong><em>Hogweed.</em></strong> The target must succeed on a Constitution saving throw or become blinded until the end of its next turn.</p>
            <p class="indent"><strong><em>Psilocybin.</em></strong> The target must succeed on a Wisdom saving throw or begin ‘tripping’ for the spell’s duration. Whilst ‘tripping’, the creature must roll a d4 at the start of each of its turns. On a 1, the target is incapacitated until the end of its turn and the effect ends. On a 2-4 the target behaves as normal.</p>
            <p class="indent"><strong><em>Roc.</em></strong> The target must succeed on a Strength saving throw or become grappled (escape DC equals the spell save DC) and lifted 20 feet into the air until the end of its next turn. If there isn’t enough room to be lifted 20 feet, the creature is lifted to the maximum possible height.</p>
            <p class="indent"><strong><em>Snake.</em></strong> The target takes an additional 1d6 poison damage and must succeed on a Constitution saving throw or become poisoned for the spell’s duration. It may repeat the saving throw at the end of each of its turns, recovering from the poison on a success.</p>
            <p class="indent"><strong><em>Spider.</em></strong> The target must succeed on a Dexterity saving throw or become restrained (escape DC equals the spell save DC) until the end of its next turn.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 5th level or higher, the duration of this spell increases to: concentration, up to 8 hours.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">enchantment</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">Touch</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a quiver</set>
            <set name="duration">Concentration, up to 10 minutes</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
    <element name="Weave Entanglement" type="Spell" source="Humperdink’s Wares" id="ID_HDW_SPELL_WEAVE_ENTANGLEMENT">
        <supports>Bard, Sorcerer, Wizard</supports>
        <description>
            <p>You imperceptibly tangle the threads of the weave around a creature you can see. Whenever the target of this spell attempts to cast a spell of 1st level of higher, it must make spellcasting ability check versus your spell save DC. On a failure, the spell fails, wasting the action, but not the spell slot. On a success, the spellcaster casts its spell as well as an additional effect. Roll a d10 and consult the following list to determine the additional effect:</p>
            <ol>
                <li>The spellcaster casts <em>synaptic static</em>.</li>
                <li>The spellcaster casts <em>confusion</em>.</li>
                <li>The spellcaster casts <em>fireball</em>.</li>
                <li>The spellcaster casts <em>slow</em>, targeting all creatures within the area.</li>
                <li>The spellcaster casts <em>web</em>.</li>
                <li>The spellcaster casts <em>darkness</em>.</li>
                <li>The spellcaster casts <em>silence</em>.</li>
                <li>The spellcaster casts the spell as normal.</li>
                <li>The spellcaster regains 2d10 hitpoints.</li>
                <li>The spellcaster’s spell slot is not expended for the cast spell.</li>
            </ol>
            <p class="indent">The spellcaster does not control these effects, and all are centred on self. The DC for any saves equals the spellcaster’s spell save DC. In the case of concentration spells, no concentration is required. At initiative 20 of each round, roll a d20 for each spell effect created by the d10. On a roll of 11 or higher, that spell effect ends.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell at 6th level or higher you may target one additional creature for each spell slot level above 5th.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">5</set>
            <set name="school">abjuratiom</set>
            <set name="isRitual">false</set>
            <set name="time">1 action</set>
            <set name="range">90 feet</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a piece of felt</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="isConcentration">true</set>
        </setters>
    </element>
</elements>